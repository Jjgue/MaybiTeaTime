<!DOCTYPE html>
<html>

<head>
    <title>Menu - Maybi Tea Time</title>
    <link rel="stylesheet" href="style-menu.css" />
    <style>
        .sticker, .manual-circle, .yellow-circle, .lgreen-circle {
            transform: translate(var(--move-x, 0px), var(--move-y, 0px));
            transition: transform 0.3s ease-out;
        }

        .drink {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .drink:hover {
            transform: translateY(-10px) scale(1.02);
            z-index: 10;
        }
    </style>
</head>

<body>

    <header class="page-header">
        <div class="header">
            <div class="logo">
                <a href="../index.html">
                    <img src="imgs/logo.png" alt="Maybi Tea Time Logo">
                </a>
                <h1 class="website_name">Maybi Tea Time</h1>
            </div>

            <div class="navigation">
                <nav class="navigation-links">
                    <ul>
                        <li><a href="about-us.html">About Us</a></li>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="pick-deliv.html">Pickup & Delivery</a></li>
                        <li><a href="https://forms.gle/kooaSJA2suD9U1pb8">Order Forms</a></li>
                    </ul>
                </nav>
                <div class="social-logos">
                    <a href="https://www.facebook.com/profile.php?id=61578109740675"><img src="imgs/fb-logo.png" alt="Facebook Logo"></a>
                    <a href="https://www.instagram.com/maybi.teatime"><img src="imgs/ig-logo.png" alt="Instagram Logo"></a>
                </div>
            </div>
        </div>
    </header>

    <div class="main-content-wrapper">
        <div class="search-container">
            <input type="text" id="drinkSearch" placeholder="Search menu..." onkeyup="searchDrinks()">
            <span class="search-icon">üîç</span>
        </div>

        <div class="drink-background">
            <h2 class="bg-watermark">
                <span>MAYBI </span>
                <span>TEA TIME</span>
            </h2>

            <nav class="menu">
                <ul>
                    <li><a href="#" id="tab-drinks" class="selected" onclick="switchTab('drinks')">Drinks</a></li>
                    <li><a href="#" id="tab-bunnies" onclick="switchTab('bunnies')">Sugar Bunnies</a></li>
                </ul>
            </nav>

            <div class="category-menu" id="category-container"></div>

            <div id="catalog-container">
                <button id="prev-btn" class="nav-btn prev" onclick="moveSlider(-1)">&#10094;</button>
                <div id="slider-window">
                    <div id="card-container"></div>
                </div>
                <button id="next-btn" class="nav-btn next" onclick="moveSlider(1)">&#10095;</button>
            </div>
        </div>

        <div class="sticker" style="top: 40%; right: 0%; width: 280px; ">
            <img src="imgs/whisk_bowl.png">
        </div>
        <div class="manual-circle yellow-circle" style="width: 400px; height: 400px; top: -20%; left: -5%;"></div>
        <div class="manual-circle lgreen-circle" style="width: 400px; height: 400px; top: 75%; right: 10%;"></div>
        <div class="sticker" style="top: -10%; left: -22%; width: 600px;">
            <img src="imgs/matcha_powder.png">
        </div>
    </div>

    <div class="modal-overlay" id="drinkModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <div class="modal-body">
                <div class="modal-img-container">
                    <div class="modal-img-side">
                        <img src="" id="modalImg">
                    </div>
                    <div id="favBadge" class="favorite-badge star-icon">‚òÖ</div>
                    <p class="modal-price" id="modalPrice"></p>
                </div>
                <div class="modal-info-side">
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <p class="modal-serving" id="modalServing"></p>
                    <ul class="modal-list" id="modalBulletPoints"></ul>
                    <div class="drink-tag-container" id="modalTags"></div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer-container">
        <div class="footer">
            <div class="footer-text">
                <p>&copy; 2026 Maybi Tea Time. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        const menuData = {
            drinks: {
                categories: ['all', 'matcha', 'hojicha', 'tea-coffee'],
                items: [
                    { name: "Maple Bunny", category: "matcha", img: "imgs/maple bunny.png", price: "‚Ç±165", serving: "16 fluid oz.", tags: ["Matcha", "Maple", "Vegetal"], details: ["maple matcha latte", "most basic, no fuss matcha latte", "umami forward with mild vegetal flavor", "maple syrup may be substituted with agave syrup", "sweetness level may be adjusted"] },
                    { name: "Velveteen Bloom", category: "matcha", img: "imgs/velveteen bloom.png", price: "‚Ç±180", serving: "16 fluid oz.", tags: ["Matcha", "Raspberry", "Hibiscus"], details: ["raspberry hibiscus matcha latte", "part of our fruit & floral series", "kei's personal favorite", "with homemade hibiscus syrup and quality raspberry jam", "very fruity, lightly floral"], favorite: true },
                    { name: "Jade Rabbit", category: "matcha", img: "imgs/jade rabbit.png", price: "‚Ç±180", serving: "16 fluid oz.", tags: ["Matcha", "Jasmine", "Cream Cheese"], details: ["jasmine cream matcha latte", "part of our fruit & floral series", "with homemade jasmine syrup", "the most floral forward blend in the menu", "cream cheese may be removed by request"] },
                    { name: "Kuneho's Sunrise", category: "matcha", img: "imgs/kuneho's sunrise.png", price: "‚Ç±165", serving: "16 fluid oz.", tags: ["Matcha", "Yema", "Cream Cheese"], details: ["yema cream matcha latte", "considered a house special", "perfect for matcha beginners", "a sweet & creamy kind of matcha", "add a matcha scoop for a stronger matcha flavor + ‚Ç±30"], favorite: true },
                    { name: "Toasted Cocoa Hop", category: "hojicha", img: "imgs/toasted cocoa hop.png", price: "‚Ç±165", serving: "16 fluid oz.", tags: ["Hojicha", "Chocolate", "Roasted"], details: ["chocolate cream hojicha latte", "a lot like roasted chocolate milk", "roasted and nutty hojicha elevated with dark chocolate", "one of our best sellers & mavz's personal favorite", "off-menu - choco earl grey hojicha latte may be requested"], favorite: true },
                    { name: "Willow Burrow Brew", category: "hojicha", img: "imgs/willow burrow brew.png", price: "‚Ç±180", serving: "16 fluid oz.", tags: ["Hojicha", "Blackcurrant", "Strawberry"], details: ["blackcurrant strawberry forget-me-not hojicha latte", "part of our fruit & floral series", "witchy and potion-like appearance", "with homemade forget-me-not syrup and quality jams", "balanced fruity-floral-toasty flavor"] },
                    { name: "Fallen Leaf (Chai)", category: "tea-coffee", img: "imgs/fallen leaf.png", price: "‚Ç±180", serving: "16 fluid oz.", tags: ["Wakoucha", "Maple", "Chai"], details: ["maple chai wakoucha latte", "part of our coffee & tea series", "until supplies last (limited wakoucha powder on-hand)", "wakoucha is Japanese black tea powder", "recommended for chai lovers as it's like a malty chai latte"] },
                    { name: "Midnight Earl (Coffee)", category: "tea-coffee", img: "imgs/midnight earl.png", price: "‚Ç±180", serving: "16 fluid oz.", tags: ["Hojicha", "Coffee", "Earl Grey"], details: ["dirty earl grey hojicha cream latte", "part of our coffee & tea series", "highlighting coffee and earl grey, with a hint of hojicha", "with a shot of espresso (add an espresso shot + ‚Ç±20)"] }
                ]
            },
            bunnies: {
                categories: ['all', 'matcha', 'chocolate', 'tea', 'specialty'],
                items: [
                    { name: "White Chocolate Strawberry Matcha", category: "matcha", img: "imgs/wcsm.png", price: "‚Ç±30/pc", serving: "6pcs: ‚Ç±180 | 12pcs: ‚Ç±350", tags: ["Matcha", "Strawberry"], details: ["Matcha infused bunny cookie", "White chocolate chips", "Strawberry notes"] },
                    { name: "Double Chocolate Hojicha", category: "chocolate", img: "imgs/dch.png", price: "‚Ç±30/pc", serving: "6pcs: ‚Ç±180 | 12pcs: ‚Ç±350", tags: ["Hojicha", "Chocolate"], details: ["Deep cocoa base", "Roasted hojicha notes", "Dark chocolate"] },
                    { name: "Maple Cheese Chai", category: "specialty", img: "imgs/mpc.png", price: "‚Ç±30/pc", serving: "6pcs: ‚Ç±180 | 12pcs: ‚Ç±350", tags: ["Maple", "Cheese", "Chai"], details: ["Warm chai spices", "Sweet maple syrup glaze", "Cream cheese center"] },
                    { name: "Honey Lemon Earl Grey", category: "tea", img: "imgs/hleg.png", price: "‚Ç±30/pc", serving: "6pcs: ‚Ç±180 | 12pcs: ‚Ç±350", tags: ["Earl Grey", "Honey", "Lemon"], details: ["Floral earl grey tea base", "Sweet honey notes", "Zesty lemon finish"] }
                ]
            }
        };

        let currentTab = 'drinks';
        let currentCategory = 'all';
        let currentIndex = 0;

        window.onload = () => {
            switchTab('drinks');
            initAnimations();
        };

        function switchTab(tab) {
            currentTab = tab;
            currentCategory = 'all';
            document.getElementById('tab-drinks').classList.toggle('selected', tab === 'drinks');
            document.getElementById('tab-bunnies').classList.toggle('selected', tab === 'bunnies');
            renderCategories();
            renderCards();
            resetSlider();
        }

        function renderCategories() {
            const container = document.getElementById('category-container');
            container.innerHTML = menuData[currentTab].categories.map(cat =>
                `<button class="category-btn ${cat === currentCategory ? 'active' : ''}" 
                 onclick="filterItems('${cat}', this)">${cat.charAt(0).toUpperCase() + cat.slice(1)}</button>`
            ).join('');
        }

        function renderCards() {
            const container = document.getElementById('card-container');
            container.innerHTML = menuData[currentTab].items.map(item => {
                const customClass = item.name.replace(/[^\w\s]/gi, '').replace(/\s+/g, '-').toLowerCase();
                return `
                    <div class="drink" data-category="${item.category}" onclick="openModal('${item.name.replace(/'/g, "\\'")}')">
                        <div class="drink-display">
                            <div class="drink-img-container">
                                <div class="drink-bg-square"></div>
                                <img class="drink-img ${customClass}" src="${item.img}">
                            </div>
                            <p class="price">${item.price}</p>
                        </div>
                        <div class="drink-desc">
                            <p class="title">${item.name} ${item.favorite ? '<span class="star-icon">‚òÖ</span>' : ''}</p>
                            <p class="serving">${item.serving}</p>
                        </div>
                        <div class="drink-tag-container">
                            ${item.tags.map(t => `<p class="drink-tag">${t}</p>`).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterItems(category, element) {
            currentCategory = category;
            const buttons = document.querySelectorAll('.category-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            element.classList.add('active');
            searchDrinks();
        }

        function searchDrinks() {
            const filter = document.getElementById('drinkSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.drink');
            cards.forEach(card => {
                const title = card.querySelector('.title').innerText.toLowerCase();
                const cardCat = card.getAttribute('data-category');
                const matchesSearch = title.includes(filter);
                const matchesCat = (currentCategory === 'all' || cardCat === currentCategory);
                card.style.display = (matchesSearch && matchesCat) ? 'flex' : 'none';
            });
            resetSlider();
        }

        function openModal(name) {
    const item = menuData[currentTab].items.find(i => i.name === name);
    if (!item) return;

    const modalImg = document.getElementById('modalImg');
    
    // Create the class name (e.g., "Jade Rabbit" -> "jade-rabbit")
    const customClass = item.name.replace(/[^\w\s]/gi, '').replace(/\s+/g, '-').toLowerCase();
    
    // Apply classes: 'drink-img' for base styles + the specific class for scaling
    modalImg.className = 'drink-img ' + customClass; 
    
    document.getElementById('favBadge').style.display = item.favorite ? 'flex' : 'none';
    document.getElementById('modalTitle').innerText = item.name;
    document.getElementById('modalServing').innerText = item.serving;
    document.getElementById('modalPrice').innerText = item.price;
    modalImg.src = item.img;
    document.getElementById('modalBulletPoints').innerHTML = item.details.map(d => `<li>${d}</li>`).join('');
    document.getElementById('modalTags').innerHTML = item.tags.map(t => `<p class="drink-tag">${t}</p>`).join('');
    document.getElementById('drinkModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

        function closeModal() {
            document.getElementById('drinkModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function moveSlider(direction) {
            const visibleCards = Array.from(document.querySelectorAll('.drink')).filter(c => c.style.display !== 'none');
            const scrollAmount = 260;
            const maxIndex = Math.max(0, visibleCards.length - 3);
            currentIndex = Math.min(Math.max(currentIndex + direction, 0), maxIndex);
            document.getElementById('card-container').style.transform = `translateX(-${currentIndex * scrollAmount}px)`;
            updateNavButtons(visibleCards.length);
        }

        function resetSlider() {
            currentIndex = 0;
            document.getElementById('card-container').style.transform = `translateX(0px)`;
            const visibleCount = Array.from(document.querySelectorAll('.drink')).filter(c => c.style.display !== 'none').length;
            updateNavButtons(visibleCount);
        }

        function updateNavButtons(visibleCount) {
            const maxIndex = Math.max(0, visibleCount - 3);
            document.getElementById('prev-btn').classList.toggle('disabled', currentIndex <= 0);
            document.getElementById('next-btn').classList.toggle('disabled', currentIndex >= maxIndex || visibleCount <= 3);
        }

        function initAnimations() {
            const header = document.querySelector('.page-header');
            if (header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        header.style.padding = "10px 0";
                        header.style.backgroundColor = "rgba(255, 255, 255, 0.98)";
                    } else {
                        header.style.padding = "15px 0";
                        header.style.backgroundColor = "white";
                    }
                });
            }

            const parallaxElements = document.querySelectorAll('.sticker, .manual-circle, .yellow-circle, .lgreen-circle');
            document.addEventListener('mousemove', (e) => {
                const mouseX = (e.clientX - window.innerWidth / 2) / 50;
                const mouseY = (e.clientY - window.innerHeight / 2) / 50;

                parallaxElements.forEach((el) => {
                    el.style.setProperty('--move-x', `${mouseX}px`);
                    el.style.setProperty('--move-y', `${mouseY}px`);
                });
            });
        }

        window.onclick = (e) => { if (e.target.id === 'drinkModal') closeModal(); };
    </script>
</body>

</html>